(this["webpackJsonpto-hooks"]=this["webpackJsonpto-hooks"]||[]).push([[0],{101:function(e,t,a){},137:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=a(12),i=(a(101),a(13)),s=a(44),u=a(61),d=a(31),m=a.n(d),p=a(52),f=a(59),E=a.n(f);E.a.initializeApp({apiKey:"AIzaSyD3xzvveSu_POZUl_VmGh2tKpxDtDcShPg",authDomain:"context-functional-todo.firebaseapp.com",databaseURL:"https://context-functional-todo.firebaseio.com",projectId:"context-functional-todo",storageBucket:"context-functional-todo.appspot.com",messagingSenderId:"117185959683",appId:"1:117185959683:web:3652c3cdfcfbff64d1fb36",measurementId:"G-2SM1VPFNRB"}),E.a.analytics();var b=E.a.firestore(),v=E.a.firestore.Timestamp.fromDate(new Date),O=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("collection").doc(t.id).set({title:t.title,start:t.start,end:t.end,description:t.description,notes:t.notes,createdAt:t.createdAt,status:t.status,id:t.id});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("collection").get().then((function(e){var t=[];return e.docs.map((function(e){var a=e.data();return t.push({id:a.id,status:a.status,title:a.title,start:new Date(1e3*a.start.seconds),end:new Date(1e3*a.end.seconds),description:a.description,notes:a.notes,createdAt:a.createdAt}),e})),t}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.collection("collection").doc(t.id).set(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.collection("collection").doc(t).delete().then((function(){return console.log("document deleted successfully")})).catch((function(e){console.error("Error removing document: ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("collection").doc(t.id).update(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x={ADD_TODO:"add-todo",REMOVE_TODO:"remove-todo",STATUS_TODO:"status-todo",GET_ALL_TODOS:"get-all-todos",ADD_TODO_NOTE:"add-todo-note"},y=function(e,t){switch(t.type){case x.GET_ALL_TODOS:return t.res;case x.ADD_TODO:return O(t.todo),[].concat(Object(u.a)(e),[t.todo]);case x.REMOVE_TODO:return D(t.id),e.filter((function(e){return e.id!==t.id}));case x.EDIT_TODO:var a=e.findIndex((function(e){return e.id===t.todo.id})),n=Object(u.a)(e);return n[a]=Object(s.a)(Object(s.a)({},n[a]),{},{status:t.todo.status,createdAt:t.todo.createdAt,description:t.todo.description,title:t.todo.title,notes:t.todo.notes,start:t.todo.start,end:t.todo.end}),g(n[a]),n;case x.STATUS_TODO:var r=e.findIndex((function(e){return e.id===t.id})),c=Object(u.a)(e);return c[r]=Object(s.a)(Object(s.a)({},c[r]),{},{status:!c[r].status,createdAt:t.timestamp}),j(c[r]),c;case x.ADD_TODO_NOTE:var o=e.findIndex((function(e){return e.id===t.id})),l=Object(u.a)(e);return l[o]=Object(s.a)(Object(s.a)({},l[o]),{},{notes:t.notes,createdAt:t.timestamp}),j(l[o]),l;default:return e}},w=Object(n.createContext)(),N=function(e){var t=Object(n.useReducer)(y,[]),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),u=s[0],d=s[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),f=p[0],E=p[1];return Object(n.useEffect)((function(){h().then((function(e){o({type:x.GET_ALL_TODOS,res:e})}))}),[]),r.a.createElement(w.Provider,{value:{todos:c,dispatch:o,modal:u,setModal:d,editModal:f,setEditModal:E}},e.children)},T=a(43),k=a(60),C=a(93),A=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(k.a,{expanded:a,bg:"light",expand:"lg"},r.a.createElement(k.a.Brand,{style:{color:"#dc3545"}},"ToDo APP"),r.a.createElement(k.a.Toggle,{onClick:function(){return c(!a&&"expanded")},"aria-controls":"basic-navbar-nav"}),r.a.createElement(k.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(C.a,{className:"mr-auto"},r.a.createElement(T.b,{exact:!0,className:"nav-link",to:"/",onClick:function(){return c(!1)}},"Tasks"),r.a.createElement(T.b,{className:"nav-link",to:"/calendar",onClick:function(){return c(!1)}},"Calendar"),r.a.createElement(T.b,{className:"nav-link",to:"/done",onClick:function(){return c(!1)}},"Done"))))};var S=function(){return r.a.createElement("div",null,r.a.createElement(A,null))},_=a(21),I=a(53),L=function(e){return r.a.createElement(I.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,{id:"contained-modal-title-vcenter"})),r.a.createElement(I.a.Body,null,e.children),r.a.createElement(I.a.Footer,null))},M=a(11),G=a(142),V=a(70),B=a.n(V),P=function(e){var t=Object(n.useContext)(w).dispatch,a=Object(n.useState)(e.title),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(e.description),u=Object(i.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(e.notes.note),f=Object(i.a)(p,2),E=f[0],b=f[1],O=Object(n.useState)([e.start,e.end]),h=Object(i.a)(O,2),j=h[0],D=h[1];return r.a.createElement("div",null,r.a.createElement(M.a,null,r.a.createElement(M.a.Group,{controlId:"formTitle"},r.a.createElement(M.a.Label,null,"Title"),r.a.createElement(M.a.Control,{onChange:function(e){l(e.target.value)},defaultValue:e.title,type:"text",placeholder:"Enter title"}),r.a.createElement(M.a.Text,{className:"text-muted"})),r.a.createElement(M.a.Group,{controlId:"formDescription"},r.a.createElement(M.a.Label,null,"Description"),r.a.createElement(M.a.Control,{onChange:function(e){m(e.target.value)},defaultValue:e.description,as:"textarea",placeholder:"Description",rows:"4"})),r.a.createElement(M.a.Group,{controlId:"formNotes"},r.a.createElement(M.a.Label,null,"Notes"),r.a.createElement(M.a.Control,{onChange:function(e){b(e.target.value)},defaultValue:e.notes.note?e.notes.note:null,as:"textarea",placeholder:"Notes",rows:"2"})),r.a.createElement("div",{className:"container p-2 row justify-content-start"},"Change? ",r.a.createElement("br",null),r.a.createElement("div",{className:"col-9"},r.a.createElement(B.a,{onChange:function(e){D(e)},value:j})),r.a.createElement("div",{className:"col-1 p-3"},r.a.createElement(_.a,{onClick:function(a){var n=e.notes.id?e.notes.id:Object(G.a)();a.preventDefault(),t({type:x.EDIT_TODO,todo:{title:o,description:d,start:j[0],end:j[1],id:e.id,status:e.status,createdAt:v,notes:{note:E,id:n}}}),e.onHide()},variant:"primary",type:"submit"},"Submit")))))},U=a(72),z=a.n(U),R=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1];return{isShowing:a,toggle:function(e){r(e)}}},H=a(81),W=a(71),Y=function(e){var t=Object(n.useState)(e.value),a=Object(i.a)(t,2),c=a[0],o=a[1],l=function(t){t.preventDefault(),e.dispatchNote(c),e.setOff(!1)};return r.a.createElement("div",null,r.a.createElement(M.a,{onSubmit:l},r.a.createElement(H.a,{className:"mb-0"},r.a.createElement(W.a,{defaultValue:e.value,onChange:function(e){o(e.target.value)},"aria-describedby":"basic-addon1"}),r.a.createElement(H.a.Prepend,null,r.a.createElement(_.a,{onClick:l,variant:"outline-secondary"},"+")))))},F=function(e){var t=Object(n.useContext)(w).dispatch,a=R(),c=a.isShowing,o=a.toggle,l=Object(n.useState)(!1),s=Object(i.a)(l,2),u=s[0],d=s[1];Object(n.useEffect)((function(){}),[]);var m=function(e){t({type:x.REMOVE_TODO,id:e})},p=function(e){t({type:x.STATUS_TODO,id:e,timestamp:v})},f=e.createdAt.toDate(),E=z()(f).format("dddd, MMMM Do YYYY, h:mm a"),b=u?r.a.createElement(Y,{value:e.notes.note,todoId:e.id,setOff:function(){return d(!1)},dispatchNote:function(a){!function(a,n){var r=e.notes.id?e.notes.id:Object(G.a)();t({type:x.ADD_TODO_NOTE,id:a,notes:{note:n,id:r},timestamp:v})}(e.id,a)}}):r.a.createElement("p",{onClick:function(){return d(!0)}},"add note +");return r.a.createElement("div",{className:"h6 small"},r.a.createElement("div",{className:"container m-0 p-1 bg-light"},r.a.createElement("div",{className:"row p-1 m-0"},r.a.createElement("div",{className:"col-7 h6 small"},E),r.a.createElement("div",{className:"col-5 h4 small text-right"},b)),r.a.createElement("div",{className:"p-3"},r.a.createElement("h5",null,e.title)),r.a.createElement("div",{className:"row flex-auto m-3 h6 small"},r.a.createElement("p",{style:{wordWrap:"break-word"}},e.description)),e.notes.note?r.a.createElement("div",null,"Notes: ",r.a.createElement("br",null),r.a.createElement("div",{className:"m-3 p-3 bg-white"},e.notes.note)):null,r.a.createElement("div",{className:"container"},e.status?r.a.createElement("div",{className:"row p-2"},r.a.createElement(_.a,{className:"col-4 m-0 ",onClick:function(){return p(e.id)},variant:"success",block:!0},"Done"),r.a.createElement(_.a,{className:"col-4 m-0",onClick:function(){return o(!0)},variant:"primary",block:!0},"Edit"),r.a.createElement(_.a,{className:"col-4 m-0",onClick:function(){return m(e.id)},variant:"danger",block:!0},"Delete")):r.a.createElement("div",null,r.a.createElement(_.a,{onClick:function(){return p(e.id)},variant:"warning",block:!0},"Undone"),r.a.createElement(_.a,{onClick:function(){return m(e.id)},variant:"danger",block:!0},"Delete"))),r.a.createElement(L,{show:c,onHide:function(){return o()}},r.a.createElement(P,Object.assign({show:c,onHide:function(){return o()}},e)))))},J=a(143),K=a(141),q=(a(88),function(){var e=Object(n.useContext)(w).todos;return r.a.createElement("div",null,r.a.createElement("h2",{className:"py-4"},"TODOS"),r.a.createElement("div",null,r.a.createElement(J.a,{className:"todo-list"},e.map((function(e){return e.status?r.a.createElement(K.a,{key:e.id,timeout:500,classNames:"fade"},r.a.createElement(F,{key:e.id,title:e.title,description:e.description,notes:e.notes,id:e.id,createdAt:e.createdAt,status:e.status,start:e.start,end:e.end})):null})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}),Z=function(){var e=Object(n.useContext)(w),t=e.dispatch,a=e.setModal,c=Object(n.useState)(""),o=Object(i.a)(c,2),l=o[0],s=o[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)([new Date,new Date]),E=Object(i.a)(f,2),b=E[0],O=E[1];return r.a.createElement("div",null,r.a.createElement(M.a,null,r.a.createElement(M.a.Group,{controlId:"formTitle"},r.a.createElement(M.a.Label,null,"Title"),r.a.createElement(M.a.Control,{required:!0,onChange:function(e){s(e.target.value)},value:l,type:"text",placeholder:"Enter title"}),r.a.createElement(M.a.Text,{className:"text-muted"})),r.a.createElement(M.a.Group,{controlId:"formDescription"},r.a.createElement(M.a.Label,null,"Description"),r.a.createElement(M.a.Control,{onChange:function(e){p(e.target.value)},value:m,as:"textarea",placeholder:"Description",rows:"4"})),"When? ",r.a.createElement("br",null),r.a.createElement(B.a,{onChange:function(e){return O(e)},value:b}),r.a.createElement(_.a,{onClick:function(e){e.preventDefault(),t({type:x.ADD_TODO,todo:{title:l,start:b[0],end:b[1],description:m,id:Object(G.a)(),status:!0,createdAt:v,notes:{note:null}}}),s(""),p(""),a(!1)},variant:"primary",type:"submit"},"Submit")))};var $=function(){var e=Object(n.useContext)(w),t=e.modal,a=e.setModal,c=r.a.createElement("div",{className:"row justify-content-center py-2"},r.a.createElement("style",{type:"text/css"},"\n    .btn-flat {\n      background-color: #dc3545;\n      color: white;\n      border-radius: 20px\n    }\n\n    .btn-xxl {\n      padding: 1rem 1.5rem;\n      font-size: 1.5rem;\n    }\n    "),r.a.createElement(_.a,{variant:"flat",onClick:function(){a(!0)}},"Add Task"));return r.a.createElement("div",{className:"container text-center"},r.a.createElement("h2",{className:"row-cols-8 py-3"},"Let's do something!"),c,r.a.createElement(L,{show:t,onHide:function(){return a(!1)}},r.a.createElement(Z,null)),r.a.createElement("hr",{className:"w-100 mx-auto mt-4 mb-5 border-danger"}))};var Q=function(){return r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement(q,null))},X=a(82),ee=(a(135),Object(X.b)(z.a)),te=function(){var e=Object(n.useContext)(w).todos.map((function(e){return e.status?Object.assign({id:e.id,title:e.title,allDay:!0,start:e.start,end:e.end}):null}));return r.a.createElement("div",{className:""},r.a.createElement(X.a,{localizer:ee,views:{month:!0},events:e,startAccessor:"start",endAccessor:"end",style:{height:500}}))};var ae=function(){var e=Object(n.useContext)(w).todos;return r.a.createElement("div",null,r.a.createElement("h1",null,"Done list:",r.a.createElement("br",null)),r.a.createElement("div",null,r.a.createElement(J.a,{className:"todo-list"},e.map((function(e){return e.status?null:r.a.createElement(K.a,{key:e.id,timeout:500,classNames:"fade"},r.a.createElement(F,{key:e.id,description:e.description,title:e.title,notes:e.notes,id:e.id,createdAt:e.createdAt,status:e.status}))}))),r.a.createElement("div",null)))},ne=a(83),re=ne.b.div({enter:{opacity:1,delay:300,beforeChildren:!0},exit:{opacity:0}}),ce=Object(l.f)((function(e){var t=e.location,a=r.a.createElement(ne.a,null,r.a.createElement(re,{key:t.pathname},r.a.createElement(l.c,{location:t},r.a.createElement(l.a,{path:"/",exact:!0,component:Q}),r.a.createElement(l.a,{path:"/done",component:ae}),r.a.createElement(l.a,{path:"/calendar",component:te}),r.a.createElement(l.a,{render:function(){return r.a.createElement("h1",{style:{textAlign:"center"}},"NOT FOUND!!!")}}))));return r.a.createElement(N,null,r.a.createElement("div",{className:"App container mx-auto w-lg-75"},r.a.createElement(S,null),a))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(136),a(137);o.a.render(r.a.createElement(T.a,null,r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){},96:function(e,t,a){e.exports=a(139)}},[[96,1,2]]]);
//# sourceMappingURL=main.be090922.chunk.js.map